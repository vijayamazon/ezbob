(function(){var n,i={}.hasOwnProperty,t=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};n=typeof exports!="undefined"&&exports!==null?exports:this;n.EzBob=n.EzBob||{};EzBob.Underwriter=EzBob.Underwriter||{};EzBob.Underwriter.ProfilePopupModel=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.idAttribute="Id",i.prototype.url=function(){return""+window.gRootPath+"Underwriter/Profile/GetRegisteredCustomerInfo/?customerId="+this.customerId},i.prototype.defaults={title:"&nbsp;",isWizardFinished:!1},i.prototype.initialize=function(){var n,t=this;return n=setInterval(function(){return t.fetch()},2e3),this.set("interval",n)},i}(Backbone.Model);EzBob.Underwriter.ProfilePopupView=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.initialize=function(n){return this.model=new EzBob.Underwriter.ProfilePopupModel,this.model.customerId=n.customerId,this.bindTo(this.model,"change reset fetch",this.render,this),this.model.fetch()},i.prototype.serializeData=function(){return{mps:this.model.get("mps"),sm:this.model.get("sm")||{},title:this.model.get("title")||"",isWizardFinished:this.model.get("isWizardFinished"),cid:this.model.customerId,cName:this.model.get("cName")}},i.prototype.template="#profile-popup-view-template",i.prototype.jqoptions=function(){return{modal:!0,resizable:!1,title:"Registered",position:"center",draggable:!1,width:"830",dialogClass:"registered-popup"}},i.prototype.events={"click .recheck-mp":"recheckMpClicked","click .recheck-yodlee":"recheckYodleeClicked","click #recheck-main-strat":"recheckMainStrat"},i.prototype.recheckMpClicked=function(n){var t,i;if(t=$(n.currentTarget),!t.hasClass("disabled"))return t.addClass("disabled"),i={umi:$(n.currentTarget).data("mp-id")},$.post(""+window.gRootPath+"Underwriter/MarketPlaces/ReCheckMarketplaces",i)},i.prototype.recheckYodleeClicked=function(n){var t;t=$(n.currentTarget);t.hasClass("disabled")},i.prototype.recheckMainStrat=function(n){var t,i;if(t=$(n.currentTarget),!t.hasClass("disabled"))return t.addClass("disabled"),i={customerId:this.model.customerId},$.post(""+window.gRootPath+"Underwriter/Profile/StartMainStrategy",i)},i.prototype.onClose=function(){return clearInterval(this.model.get("interval"))},i}(Backbone.Marionette.ItemView)}).call(this)