(function(){var n,i={}.hasOwnProperty,t=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};n=typeof exports!="undefined"&&exports!==null?exports:this;n.EzBob=n.EzBob||{};EzBob.Underwriter=EzBob.Underwriter||{};EzBob.Underwriter.MarketPlacesHistoryModel=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.idAttribute="Id",i}(Backbone.Model);EzBob.Underwriter.MarketPlacesHistory=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.model=EzBob.Underwriter.MarketPlacesHistoryModel,i.prototype.url=function(){return""+window.gRootPath+"Underwriter/MarketPlaces/GetCustomerMarketplacesHistory/?customerId="+this.customerId},i}(Backbone.Collection);EzBob.Underwriter.MarketPlacesHistoryView=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.template="#marketplace-history-template",i.prototype.initialize=function(){this.model.on("reset change sync",this.render,this);return this.loadMarketPlacesHistory()},i.prototype.loadMarketPlacesHistory=function(){var n,t=this;return n=this,this.model.fetch().done(function(){if(n.model.length>0)return n.render()})},i.prototype.events={"click .showHistoryMarketPlaces":"showHistoryMarketPlacesClicked","click .showCurrentMarketPlaces":"showCurrentMarketPlacesClicked","click .uploadHmrc":"uploadHmrcClicked"},i.prototype.serializeData=function(){return{MarketPlacesHistory:this.model}},i.prototype.showHistoryMarketPlacesClicked=function(){var n;return n=this.$el.find("#mpHistoryDdl :selected").val(),EzBob.App.vent.trigger("ct:marketplaces.history",n)},i.prototype.showCurrentMarketPlacesClicked=function(){return EzBob.App.vent.trigger("ct:marketplaces.history",null)},i.prototype.uploadHmrcClicked=function(){return EzBob.App.vent.trigger("ct:marketplaces.uploadHmrc")},i}(Backbone.Marionette.ItemView)}).call(this)