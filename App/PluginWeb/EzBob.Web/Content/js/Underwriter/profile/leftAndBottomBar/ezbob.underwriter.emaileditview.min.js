(function(){var n,t={}.hasOwnProperty,i=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n};n=typeof exports!="undefined"&&exports!==null?exports:this;n.EzBob=n.EzBob||{};EzBob.EmailEditView=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t.prototype.template="#email-edit-template",t.prototype.events={"click .email-confirm-manually":"confirmManually","click .email-send-new-request":"sendNewRequest","click .email-change-address":"changeEmail",'keypress input[name="edit-email"]':"editEmailEnterPressed"},t.prototype.ui={email:'input[name="edit-email"]'},t.prototype.jqoptions=function(){return{modal:!0,resizable:!1,title:"Edit Email",position:"center",draggable:!1,width:"73%",height:Math.max(window.innerHeight*.9,600),dialogClass:"edit-email-popup"}},t.prototype.confirmManually=function(){var n,t=this;return n=$.post(window.gRootPath+"Underwriter/EmailVerification/ManuallyConfirm",{id:this.model.id}),n.success(function(){return t.model.fetch(),t.close()}),!1},t.prototype.sendNewRequest=function(){var n,t=this;return n=$.post(window.gRootPath+"Underwriter/EmailVerification/Resend",{id:this.model.id}),n.success(function(){return t.model.fetch(),t.close()}),!1},t.prototype.changeEmail=function(){var n,t=this;return this.validator.form()?(n=$.post(window.gRootPath+"Underwriter/EmailVerification/ChangeEmail",{id:this.model.id,email:this.ui.email.val()}),n.success(function(n){return n.error!==void 0&&EzBob.ShowMessage(n.error),t.model.fetch(),t.close()}),!1):!1},t.prototype.onRender=function(){return this.form=this.$el.find("#email-edit-form"),this.validator=EzBob.validateChangeEmailForm(this.form),this},t.prototype.editEmailEnterPressed=function(n){if(n.keyCode===13)return!1},t}(Backbone.Marionette.ItemView)}).call(this)