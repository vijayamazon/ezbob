(function(){var n,i={}.hasOwnProperty,t=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};n=typeof exports!="undefined"&&exports!==null?exports:this;n.EzBob=n.EzBob||{};EzBob.YodleeAccountInfoView=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.template="#YodleeAccoutInfoTemplate",i.prototype.events={"click a.back":"back",'change input[name="Bank"]':"bankChanged","click .radio-fx":"parentBankSelected","change .SubBank":"subBankSelectionChanged","click #yodleeLinkAccountBtn":"linkAccountClicked","click #OtherYodleeBanks":"OtherYodleeBanksClicked","change #OtherYodleeBanks":"OtherYodleeBanksClicked"},i.prototype.initialize=function(n){var t;return t=this,this.isProfile=n.isProfile,window.YodleeAccountAdded=function(n){return n.error?EzBob.App.trigger("error",n.error):EzBob.App.trigger("info","Congratulations. Bank account was added successfully."),$.colorbox.close(),t.trigger("completed"),t.trigger("ready"),t.trigger("back")},window.YodleeAccountAddingError=function(n){return $.colorbox.close(),EzBob.App.trigger("error",n),t.trigger("back")},window.YodleeAccountRetry=function(){return t.attemptsLeft=(t.attemptsLeft||5)-1,{url:t.$el.find("#yodleeContinueBtn").attr("href"),attemptsLeft:t.attemptsLeft}}},i.prototype.render=function(){return i.__super__.render.call(this),EzBob.UiAction.registerView(this),this.isProfile&&this.$el.find(".marketplace-button").addClass("marketplace-button-profile"),this},i.prototype.OtherYodleeBanksClicked=function(n){var t,i,r;return t=$(n.currentTarget).find(":selected").val(),i=$(n.currentTarget).find(":selected").text(),t?(this.$el.find("input[type='radio'][name='Bank']:checked").removeAttr("checked"),this.$el.find(".SubBank:not(.hide)").addClass("hide"),this.$el.find("a.selected-bank").removeClass("selected-bank"),r=""+window.gRootPath+"Customer/YodleeMarketPlaces/AttachYodlee?csId="+t+"&bankName="+i,this.$el.find("#yodleeContinueBtn").attr("href",r),this.$el.find("#yodleeLinkAccountBtn").removeClass("disabled")):this.$el.find("#yodleeLinkAccountBtn:not([class*='disabled'])").addClass("disabled")},i.prototype.subBankSelectionChanged=function(){var n;return this.$el.find(".SubBank option:selected").length===0?!1:(n=""+window.gRootPath+"Customer/YodleeMarketPlaces/AttachYodlee?csId="+this.$el.find("option:selected").val()+"&bankName="+this.$el.find("input[type='radio'][name='Bank']:checked").attr("value"),this.$el.find("#yodleeContinueBtn").attr("href",n),this.$el.find("#yodleeLinkAccountBtn").removeClass("disabled"))},i.prototype.bankChanged=function(){var t,n;return this.$el.find("input[type='radio'][name!='Bank']:checked").removeAttr("checked"),n=this.$el.find(".SubBank:not([class*='hide'])"),n.addClass("hide"),this.$el.find("#subTypeHeader[class*='hide']").removeClass("hide"),n.find("option").removeAttr("selected"),t=this.$el.find("input[type='radio'][name='Bank']:checked").val(),this.$el.find("."+t+"Container").removeClass("hide"),$("#yodleeLinkAccountBtn:not([class*='disabled'])").addClass("disabled")},i.prototype.linkAccountClicked=function(){return this.$el.find("#yodleeLinkAccountBtn").hasClass("disabled")?!1:this.$el.find(".yodlee_help").colorbox({inline:!0})},i.prototype.parentBankSelected=function(n){n.preventDefault();this.$el.find("#Bank_"+n.currentTarget.id).click();this.$el.find("a.selected-bank").removeClass("selected-bank");$(n.currentTarget).addClass("selected-bank");this.$el.find(".SubBank:not(.hide) option:selected").prop("selected",!1);this.$el.find("#OtherYodleeBanks option").eq(0).prop("selected",!0);this.$el.find("#OtherYodleeBanks").change()},i.prototype.serializeData=function(){return{YodleeBanks:JSON.parse($("#yodlee-banks").text())}},i.prototype.back=function(){return this.trigger("back"),!1},i.prototype.getDocumentTitle=function(){return EzBob.App.trigger("clear"),"Link Yodlee Account"},i}(Backbone.Marionette.ItemView);EzBob.YodleeAccountModel=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.urlRoot=""+window.gRootPath+"Customer/YodleeMarketPlaces/Accounts",i}(Backbone.Model);EzBob.YodleeAccounts=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.model=EzBob.YodleeAccountModel,i.prototype.url=""+window.gRootPath+"Customer/YodleeMarketPlaces/Accounts",i}(Backbone.Collection)}).call(this)