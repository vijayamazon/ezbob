@using EzBob.Web.Infrastructure
@using EzBob.Web.Infrastructure.csrf
@using Newtonsoft.Json
@using SquishIt.Framework
@using SquishIt.Mvc
@using Configuration = Integration.ChannelGrabberConfig.Configuration
@model dynamic
@{
	Layout = null;
	var config = ViewData["Config"] as IEzBobConfiguration;
}
<!DOCTYPE html>
<html>
<head>
	@{ Html.RenderPartial("_FrameKiller"); }
	<script type="text/javascript">
		window.gRootPath = '@Url.Content("~/")';
	</script>

	<title>Broker's home | EZBOB</title>

	<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

	<meta name="webutation-site-verification" content="webutation66c78d618b360eb461a120920e8ab3a3" />
	<meta name="msvalidate.01" content="AFD649895CD47944F50BFA0BE7BAB5D8" />

	<meta name="description" content="Online sellers sign up for a free account to apply for an ecommerce business loan. Funds can be in your account within 30 minutes." />

	<link href="https://fonts.googleapis.com/css?family=Sanchez" rel="stylesheet" type="text/css">

	@{
		Html.RenderPartial("_FavIcon");

		WriteLiteral(Bundle.Css()
			.Add("~/Content/css/jquery-ui-1.8.16.custom.css")
			.Add("~/Content/css/jquery.ui.1.8.16.ie.css")
			.Add("~/Content/css/bootstrap.css")
			.Add("~/Content/css/flaty/bootstrap.min.css")
			.Add("~/Content/css/flaty/dataTables.bootstrap.css")
			.Add("~/Content/css/flaty/DT_bootstrap.css")
			.Add("~/Content/css/flaty/flaty-responsive.css")
			.Add("~/Content/css/flaty/bootstrap-responsive.min.css")
			.Add("~/Content/css/flaty/flaty.css")
			.Add("~/Content/css/flaty/font-awesome.min.css")
			.Add("~/Content/css/flaty/bootstrap3-modal-patch.css")
			.Add("~/Content/css/broker.css")
			.Add("~/Content/css/app.css")
			.Add("~/Content/css/sidebar.css")
			.Add("~/Content/css/wizard-header.css")
			.Add("~/Content/css/notifications.css")
			.Add("~/Content/css/captcha.css")
			.Add("~/Content/css/postcode.css")
			.Add("~/Content/css/popover.css")
			.Add("~/Content/css/choosen/chosen.css")
			.Add("~/Content/css/attardi.labels.css")
			.Add("~/Content/css/dropzone.css")
			.MvcRender("~/Content/css/min/broker_#.css"));
	}
</head>

<body data-auth="@ViewData["auth"]">
	@Html.AntiForgeryTokenNoUserCheck()

	<div id="wrapper">
		<div id="header">
			<div class="header-inner">
				<a href="http://www.ezbob.com">
					<img src="@Url.Content("~/Content/img/ezbob-logo-2014.png")" class="newlogo"></a>

				<div class="header-phone">0800-011-4787</div>

				<div class="eu-menu">
					<img src="@Url.Content("~/Content/img/eu-menu.png")"><br>
					Authorised by the European Union
				</div>

				<ul id="user-menu" class="hide">
					<li class="menu-btn login log-off"><a href="#">LOG OFF</a></li>
					<li class="menu-btn login log-in"><a href="#">LOGIN</a></li>
					<li class="menu-btn sign-up"><a href="#">SIGN UP</a></li>
				</ul>
			</div>
		</div>

		<div class="inner main-page">
			<section id="full_width" class="broker">
				<div class="notifications"></div>

				<div class="page-section hide section-signup">
					<form class="signup-form broker-form" novalidate="novalidate">
						@{ int nSignupTabIdx = 1; }
						<h2 class="form-start">Create broker account</h2>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Firm name</span>
								<input type="text" name="FirmName" id="FirmName" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="form_field" ui-event-control-id="broker:signup-firm-name" />
								<img id="FirmNameImage" class="field_status required" />
							</label>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Firm registration number</span>
								<input type="text" name="FirmRegNum" id="FirmRegNum" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="form_field" ui-event-control-id="broker:signup-firm-regnum" />
								<img id="FirmRegNumImage" class="field_status" />
							</label>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Contact person name</span>
								<input type="text" name="ContactName" id="ContactName" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="form_field" ui-event-control-id="broker:signup-contact-name" />
								<img id="ContactNameImage" class="field_status required" />
							</label>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Contact person email</span>
								<input type="email" name="ContactEmail" id="ContactEmail" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="form_field" ui-event-control-id="broker:signup-contact-email" />
								<img id="ContactEmailImage" class="field_status required" />
							</label>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<div class="code-sent-style-container"><label id="codeSentLabel" class="code-sent-style hide">Code sent</label></div>
								<span>Contact person mobile phone</span>
								<input type="text" name="ContactMobile" id="ContactMobile" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="phonenumber form_field form_field_left_side" ui-event-control-id="broker:signup-contact-mobile" maxlength="11" />
								<img id="ContactMobileImage" class="field_status required" />
								<input id="generateMobileCode" class="btn green form_field_right_side_signup_phone disabled" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" type="button" value="Send activation code" ui-event-control-id="broker:signup-generate-mobile-code" />
							</label>
						</div>

						<div id="mobileCodeDiv" class="form_field_container hide">
							<label class="attardi-input">
								<span>Mobile phone authentication code</span>
								<input type="text" class="phonenumbercode form_field_left_side form_field" name="MobileCode" id="MobileCode" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" ui-event-control-id="broker:signup-mobile-code" maxlength="6" />
								<img id="mobileCodeImage" class="field_status required" />
							</label>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Contact person other phone number</span>
								<input type="text" name="ContactOtherPhone" id="ContactOtherPhone" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="phonenumber form_field" ui-event-control-id="broker:signup-contact-other-phone" />
								<img id="ContactOtherPhoneImage" class="field_status" />
							</label>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Estimated monthly client amount</span>
								<input type="text" name="EstimatedMonthlyClientAmount" id="EstimatedMonthlyClientAmount" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="form_field" ui-event-control-id="broker:signup-estimated-monthly-client-amount" />
								<img id="EstimatedMonthlyClientAmountImage" class="field_status required" />
							</label>
						</div>

						<div id="strength-password-view" class="form_field_container">
							<label class="attardi-input">
								<span>Password</span>
								<input type="password" name="Password" id="Password" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="form_field" ui-event-control-id="broker:signup-password" />
								<img id="PasswordImage" class="field_status required" />
							</label>
							<p id="message" class="help-block"></p>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Confirm password</span>
								<input type="password" name="Password2" id="Password2" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" class="form_field" ui-event-control-id="broker:signup-confirm-password" />
								<img id="Password2Image" class="field_status required" />
							</label>
						</div>

						<div class="form_buttons_container">
							<div class="attardi-button">
								<button type="submit" id="SignupBrokerButton" class="rc-button green disabled pull-right" tabindex="@{ WriteLiteral(nSignupTabIdx++); }" ui-event-control-id="broker:signup-submit">Sign up</button>
							</div>
						</div>
					</form>

					<aside class="customer-sidebar broker"></aside>
				</div>
				<!-- section-signup -->

				<div class="page-section hide section-login">
					<form class="login-form broker-form" novalidate="novalidate">
						@{ int nLoginTabIdx = 1; }
						<h2 class="form-start">Broker login</h2>
						
						<a href="#" class="ForgottenPassword">Forgotten password</a> | <a href="#" class="Signup">Sign up</a>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Contact person email</span>
								<input type="email" name="LoginEmail" id="LoginEmail" tabindex="@{ WriteLiteral(nLoginTabIdx++); }" class="form_field" ui-event-control-id="broker:login-email" />
								<img id="LoginEmailImage" class="field_status required" />
							</label>
						</div>

						<div class="form_field_container">
							<label class="attardi-input">
								<span>Password</span>
								<input type="password" name="LoginPassword" id="LoginPassword" tabindex="@{ WriteLiteral(nLoginTabIdx++); }" class="form_field" ui-event-control-id="broker:login-password" />
								<img id="LoginPasswordImage" class="field_status required" />
							</label>
						</div>

						<div class="form_buttons_container">
							<div class="attardi-button">
								<button type="submit" id="LoginBrokerButton" class="rc-button green disabled pull-right" tabindex="@{ WriteLiteral(nLoginTabIdx++); }" ui-event-control-id="broker:login-submit">Login</button>
							</div>
						</div>
					</form>

					<aside class="customer-sidebar broker"></aside>
				</div>
				<!-- section-login -->

				<div class="page-section hide section-forgotten">
					<form class="forgotten-form broker-form" novalidate="novalidate">
						@{ int nForgottenTabIdx = 1; }
						<h2 class="form-start">Password recovery</h2>

						<div class="form_field_container">
							<label class="attardi-input">
								<div class="code-sent-style-container"><label id="forgottenSentLabel" class="code-sent-style hide">Code sent</label></div>
								<span>Contact person mobile phone</span>
								<input type="text" name="ForgottenMobile" id="ForgottenMobile" tabindex="@{ WriteLiteral(nForgottenTabIdx++); }" class="phonenumber form_field form_field_left_side" ui-event-control-id="broker:forgotten-contact-mobile" maxlength="11" />
								<img id="ForgottenMobileImage" class="field_status required" />
								<input id="forgottenGenerateMobileCode" class="btn green form_field_right_side_signup_phone disabled" tabindex="@{ WriteLiteral(nForgottenTabIdx++); }" type="button" value="Send activation code" ui-event-control-id="broker:forgotten-generate-mobile-code" />
							</label>
						</div>

						<div id="forgottenMobileCodeDiv" class="form_field_container hide">
							<label class="attardi-input">
								<span>Mobile phone authentication code</span>
								<input type="text" class="phonenumbercode form_field_left_side form_field" name="ForgottenMobileCode" id="ForgottenMobileCode" tabindex="@{ WriteLiteral(nForgottenTabIdx++); }" ui-event-control-id="broker:forgotten-mobile-code" maxlength="6" />
								<img id="ForgottenMobileCodeImage" class="field_status required" />
							</label>
						</div>

						<div class="form_buttons_container">
							<div class="attardi-button">
								<button type="submit" id="RestorePassBrokerButton" class="rc-button green disabled pull-right" tabindex="@{ WriteLiteral(nForgottenTabIdx++); }" ui-event-control-id="broker:login-submit">Restore password</button>
							</div>
						</div>
					</form>

					<aside class="customer-sidebar broker"></aside>
				</div>
				<!-- section-forgotten -->

				<div class="page-section hide section-dashboard">
					<h2 class="form-start">Customer list
						<button type="button" id="AddNewCustomer" class="rc-button green pull-right">Add new customer</button>
					</h2>
					
					<div class="table-responsive table-big">
						<table class="customer-list table">
							<thead><tr>
								<th>Id</th>
								<th>First name</th>
								<th>Last name</th>
								<th>Email</th>
								<th>Wizard step</th>
								<th>Status</th>
								<th>Accounts</th>
								<th>Applied date</th>
								<th>First loan</th>
								<th>First loan date</th>
							</tr></thead>
							<tbody><tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr></tbody>
						</table>
					</div>
				</div>
				<!-- section-customer-list -->

				<div class="page-section hide section-add-customer">Add customer
					<button type="button" class="back-to-list">Back to customer list</button>
				</div>
				<!-- section-add-customer -->

				<div class="page-section hide section-customer-details">
					<h2 class="form-start">Customer details</h2>
					

					<button type="button" class="back-to-list">Back to customer list</button>
				</div>
				<!-- section-customer-details -->

				<div class="page-section hide section-forbidden">
					<h2>You are not authorised to see this page.</h2>
				</div>
				<!-- section-forbidden -->
			</section>
		</div>

		<div id="modalRegion" class="modal hide fade"></div>
		<div class="push"></div>
	</div>

	<footer>
		@{ Html.RenderPartial("_Copyright"); }
	</footer>

	<div id="hidden-container" class="hide" style="display: none !important;">
		<div class="common-customer-sidebar">
			@{Html.RenderPartial("~/Areas/Customer/Views/Shared/SideBars/_Sidebar.cshtml");}
		</div>

		<div style="display: none;" class="hide" id="cg-account-list">@JsonConvert.SerializeObject(Configuration.Instance.Vendors)</div>
	</div>
	<!-- scripts - begin -->
<!--[if lt IE 9]>
<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
	@{
		Html.RenderPartial("_GoogleAnalytics");
		Html.RenderPartial("security_template");

		if (!Request.Browser.IsMobileDevice) {
			Html.RenderPartial("_LivePerson");
			Html.RenderPartial("_NanoRep");
		}

		Html.RenderPartial("_AddRoll");

		WriteLiteral(Bundle.JavaScript()
			.Add("~/Content/js/lib/jquery-1.8.3.js")
			.Add("~/Content/js/lib/jquery.browser.min.js")
			.Add("~/Content/js/lib/dropzone.js")
			.Add("~/Content/js/lib/jquery.hoverIntent.min.js")
			.Add("~/Content/js/lib/jquery.scrollTo.js")
			.Add("~/Content/js/lib/jquery.blockUI.js")
			.Add("~/Content/js/lib/jquery.mousewheel.js")
			.Add("~/Content/js/lib/jquery.jscrollpane.js")
			.Add("~/Content/js/lib/jquery.validate.js")
			.Add("~/Content/js/lib/jquery-ui-1.8.24.custom.js")
			.Add("~/Content/js/lib/jsuri-1.1.1.js")
			.Add("~/Content/js/lib/jquery.cookie.js")
			.Add("~/Content/js/lib/jquery.slimscroll.min.js")
			.Add("~/Content/js/lib/cookies.js")
			.Add("~/Content/js/lib/underscore.js")
			.Add("~/Content/js/lib/backbone.js")
			.Add("~/Content/js/lib/backbone.marionette.js")
			.Add("~/Content/js/lib/flaty/bootstrap3.js")
			.Add("~/Content/js/lib/moment.js")
			.Add("~/Content/js/lib/jquery.numeric.js")
			.Add("~/Content/js/lib/recaptcha_ajax.js")
			.Add("~/Content/js/lib/autoNumeric-1.7.4.js")
			.Add("~/Content/js/lib/chosen.jquery.js")
			.Add("~/Content/js/lib/jquery.maskedinput-1.2.2.js")
			.Add("~/Content/js/lib/notifications.js")
			.Add("~/Content/js/lib/coin-slider.js")
			.Add("~/Content/js/lib/jquery.placeholder.js")
			.Add("~/Content/js/lib/attardi.labels.js")
			.Add("~/Content/js/lib/amount-period-sliders.js")
			.Add("~/Content/js/lib/jquery.field_status.js")
			.Add("~/Content/js/lib/mousetrap_1.4.0.js")
			.Add("~/Content/js/lib/jquery.colorbox-min.js")
			.Add("~/Content/js/App/ezbob.app.js")
			.Add("~/Content/js/App/ezbob.validation.js")
			.Add("~/Content/js/controls/captcha.js")
			.Add("~/Content/js/controls/ezbob.notifications.js")
			.Add("~/Content/js/contactUs/ezbo.contactUs.js")
			.Add("~/Content/js/ezbob.csrf.js")
			.Add("~/Content/js/ezbob.design.js")
			.Add("~/Content/js/ezbob.uiaction.js")
			.Add("~/Content/js/ezbob.strengthPassword.js")
			.Add("~/Content/js/lib/jquery.dataTables.js")
			.Add("~/Content/js/lib/flaty/bootstrap3.js")
			.Add("~/Content/js/lib/bootstrap-datepicker.js")
			.Add("~/Content/js/lib/bootstrap-modal.js")
			.Add("~/Content/js/lib/bootstrap-modalmanager.js")
			.Add("~/Content/js/lib/flaty/dataTables.bootstrap.js")
			.Add("~/Content/js/lib/flaty/DT_Bootstrap.js")
			.Add("~/Content/js/lib/flaty/flaty.js")
			.Add("~/Content/js/EzBob.DataTables.Helper.js")
			.AddString(BundleHelper.GetDbStrings())
			.Add("~/Content/js/Broker/broker.base.view.js")
			.Add("~/Content/js/Broker/broker.submit.view.js")
			.Add("~/Content/js/Broker/broker.mobilephone.view.js")
			.Add("~/Content/js/Broker/broker.forgotten.view.js")
			.Add("~/Content/js/Broker/broker.dashboard.view.js")
			.Add("~/Content/js/Broker/broker.login.view.js")
			.Add("~/Content/js/Broker/broker.signup.view.js")
			.Add("~/Content/js/Broker/broker.addcustomer.view.js")
			.Add("~/Content/js/Broker/broker.customerdetails.view.js")
			.Add("~/Content/js/Broker/broker.router.js")
			.Add("~/Content/js/Broker/broker.main.js")
			.MvcRender("~/Content/js/min/jslib_#.js"));
	}
	<script>
		EzBob = EzBob || {};
		EzBob.LoadedConfig = EzBob.LoadedConfig || {};
		EzBob.LoadedConfig.PasswordPolicyType = '@config.PasswordPolicyType.ToLower()';
	</script>
	<!-- scripts - end -->
</body>
</html>
