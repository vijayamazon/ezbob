@model dynamic

<script id="docs-template" type="text/template">
    @docsTemplate()
</script>

@helper docsTemplate(){
    <table id="alertDocsTable" class="table table-bordered blue-header centered" >
        <thead>
            <tr>
                <th>Uploaded document name</th>
                <th>Date</th>
                <th>Employee name</th>
                <th style="width: 200px">Description</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <% _.each(docs, function(doc){%>
            <tr>
                <td><a href="@Url.Action("File", "AlertDocs", new {Area="Underwriter"})/<%-doc.Id%>"><%= doc.DocName%></a></td>
                <td><%- EzBob.formatDate(doc.CreateDate)%></td>
                <td><%- doc.EmployeeName%></td>
                <td><p style="text-overflow: ellipsis; width: 200px; overflow: hidden" title="<%- doc.Description %>"><%- doc.Description %></p></td>
                <td><input type="checkbox" data-id="<%= doc.Id %>"/></td>
            </tr>
            <%});%>
        </tbody>
    </table>
    <div class="pull-right">
        <button class="btn" id="addNewDoc" ><i class="icon-file"></i> Add</button>
        <button class="btn" id="deleteDocs" style="margin-left: 20px"><i class="icon-trash"></i> Delete</button>
    </div>
}

<script id="uploadAlertDocDialog" type="text/template">
    @FileUpload()
</script>

@helper FileUpload(){
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Add/Edit Document</h3>
    </div>
        
    <div class="modal-body">
        <form id="fileForm" action="@Url.Action("UploadDoc", "AlertDocs", new{Area="Underwriter"})" style="margin: auto;width: 355px;" enctype="multipart/form-data">
            <input type="file" id="uploadFile" name="uploadFile" style="display: none" onchange="$('.tempUpFile').val( this.files ? this.files[0].name : $(this).val());"/>
            
            File name: 
            <div class="input-append">
                <input class="input-xlarge tempUpFile" type="text" disabled="disabled"/>
                <a  class="btn" onclick="$('#uploadFile').click(); return false;">Browse</a>
            </div>
             <br/>
            Description:
            <br /> 
            <textarea id="details" style="height: 120px; width: 340px; resize: none;" maxlength="1000" name="description"></textarea><br/>

            <input type="hidden" name="CustomerId" value=""/>
        </form>
    </div>
        
    <div class="modal-footer">
        <button class="btn btn-primary button-upload">Save</button>
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
}