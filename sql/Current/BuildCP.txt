SET QUOTED_IDENTIFIER ON
GO

IF OBJECT_ID('SaveCallCreditSearchData') IS NOT NULL
	DROP PROCEDURE SaveCallCreditSearchData
GO

IF TYPE_ID('CallCreditSearchDataList') IS NOT NULL
	DROP TYPE CallCreditSearchDataList
GO

CREATE TYPE CallCreditSearchDataList AS TABLE (
	[Id] BIGINT NOT NULL,
	[ServiceLogId] BIGINT NOT NULL,
	[PayLoadData] NVARCHAR(4000) NULL,
	[YourReference] NVARCHAR(50) NULL,
	[Token] NVARCHAR(64) NULL,
	[SchemaVersionCR] NVARCHAR(5) NULL,
	[DataSetsCR] INT NULL,
	[Score] BIT NULL,
	[Purpose] NVARCHAR(10) NULL,
	[CreditType] NVARCHAR(10) NULL,
	[BalorLim] INT NULL,
	[Term] NVARCHAR(10) NULL,
	[Transient] BIT NULL,
	[AutoSearch] BIT NULL,
	[AutoSearchMaximum] INT NULL,
	[SearchID] NVARCHAR(38) NULL,
	[CastInfo] NVARCHAR(1000) NULL,
	[PSTV] INT NULL,
	[LS] INT NULL,
	[SearchDate] DATETIME NULL,
	[SchemaVersionLR] NVARCHAR(5) NULL,
	[DataSetsLR] INT NULL,
	[OrigSrchLRID] NVARCHAR(38) NULL,
	[NavLinkID] NVARCHAR(38) NULL,
	[SchemaVersionSR] NVARCHAR(5) NULL,
	[DataSetsSR] INT NULL,
	[OrigSrchSRID] NVARCHAR(38) NULL
)
GO

CREATE PROCEDURE SaveCallCreditSearchData
@Tbl CallCreditSearchDataList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditSearchData (
		[Id],
		[ServiceLogId],
		[PayLoadData],
		[YourReference],
		[Token],
		[SchemaVersionCR],
		[DataSetsCR],
		[Score],
		[Purpose],
		[CreditType],
		[BalorLim],
		[Term],
		[Transient],
		[AutoSearch],
		[AutoSearchMaximum],
		[SearchID],
		[CastInfo],
		[PSTV],
		[LS],
		[SearchDate],
		[SchemaVersionLR],
		[DataSetsLR],
		[OrigSrchLRID],
		[NavLinkID],
		[SchemaVersionSR],
		[DataSetsSR],
		[OrigSrchSRID]
	) SELECT
		[Id],
		[ServiceLogId],
		[PayLoadData],
		[YourReference],
		[Token],
		[SchemaVersionCR],
		[DataSetsCR],
		[Score],
		[Purpose],
		[CreditType],
		[BalorLim],
		[Term],
		[Transient],
		[AutoSearch],
		[AutoSearchMaximum],
		[SearchID],
		[CastInfo],
		[PSTV],
		[LS],
		[SearchDate],
		[SchemaVersionLR],
		[DataSetsLR],
		[OrigSrchLRID],
		[NavLinkID],
		[SchemaVersionSR],
		[DataSetsSR],
		[OrigSrchSRID]
	FROM @Tbl
END
GO



IF OBJECT_ID('SaveCallCreditDataApplicant') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataApplicant
GO

IF TYPE_ID('CallCreditDataApplicantList') IS NOT NULL
	DROP TYPE CallCreditDataApplicantList
GO

CREATE TYPE CallCreditDataApplicantList AS TABLE (
	[Id] BIGINT NOT NULL,
	[SearchDataId] BIGINT NOT NULL,
	[DataId] INT NOT NULL,
	[Dob] DATETIME NULL,
	[Hho] BIT NULL,
	[TpOptOut] BIT NULL,
	[OiaID] INT NULL,
	[CustomerStatus] NVARCHAR(10) NULL,
	[MaritalStatus] NVARCHAR(10) NULL,
	[TotalDependents] INT NULL,
	[LanguageVerbal] NVARCHAR(10) NULL,
	[Type1] NVARCHAR(10) NULL,
	[Type2] NVARCHAR(10) NULL,
	[Type3] NVARCHAR(10) NULL,
	[Type4] NVARCHAR(10) NULL,
	[AccommodationType] NVARCHAR(10) NULL,
	[PropertyValue] INT NULL,
	[MortgageBalance] INT NULL,
	[MonthlyRental] INT NULL,
	[ResidentialStatus] NVARCHAR(10) NULL,
	[EmailType] NVARCHAR(10) NULL,
	[EmailAddress] NVARCHAR(100) NULL,
	[TelephoneType] NVARCHAR(10) NULL,
	[STD] NVARCHAR(5) NULL,
	[Number] NVARCHAR(11) NULL,
	[Extension] NVARCHAR(5) NULL,
	[Occupation] NVARCHAR(10) NULL,
	[EmploymentStatus] NVARCHAR(10) NULL,
	[ExpiryDate] DATETIME NULL,
	[EmploymentRecency] NVARCHAR(10) NULL,
	[EmployerCategory] NVARCHAR(10) NULL,
	[TimeAtCurrentEmployer] NVARCHAR(15) NULL,
	[SortCode] NVARCHAR(6) NULL,
	[AccountNumber] NVARCHAR(20) NULL,
	[TimeAtBank] NVARCHAR(15) NULL,
	[PaymentMethod] NVARCHAR(10) NULL,
	[FinanceType] NVARCHAR(10) NULL,
	[TotalDebitCards] INT NULL,
	[TotalCreditCards] INT NULL,
	[MonthlyUnsecuredAmount] INT NULL,
	[AmountPr] INT NULL,
	[TypePr] NVARCHAR(10) NULL,
	[PaymentMethodPr] NVARCHAR(10) NULL,
	[FrequencyPr] NVARCHAR(10) NULL,
	[AmountAd] INT NULL,
	[TypeAd] NVARCHAR(10) NULL,
	[PaymentMethodAd] NVARCHAR(10) NULL,
	[FrequencyAd] NVARCHAR(10) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataApplicant
@Tbl CallCreditDataApplicantList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataApplicant (
		[Id],
		[SearchDataId],
		[DataId],
		[Dob],
		[Hho],
		[TpOptOut],
		[OiaID],
		[CustomerStatus],
		[MaritalStatus],
		[TotalDependents],
		[LanguageVerbal],
		[Type1],
		[Type2],
		[Type3],
		[Type4],
		[AccommodationType],
		[PropertyValue],
		[MortgageBalance],
		[MonthlyRental],
		[ResidentialStatus],
		[EmailType],
		[EmailAddress],
		[TelephoneType],
		[STD],
		[Number],
		[Extension],
		[Occupation],
		[EmploymentStatus],
		[ExpiryDate],
		[EmploymentRecency],
		[EmployerCategory],
		[TimeAtCurrentEmployer],
		[SortCode],
		[AccountNumber],
		[TimeAtBank],
		[PaymentMethod],
		[FinanceType],
		[TotalDebitCards],
		[TotalCreditCards],
		[MonthlyUnsecuredAmount],
		[AmountPr],
		[TypePr],
		[PaymentMethodPr],
		[FrequencyPr],
		[AmountAd],
		[TypeAd],
		[PaymentMethodAd],
		[FrequencyAd]
	) SELECT
		[Id],
		[SearchDataId],
		[DataId],
		[Dob],
		[Hho],
		[TpOptOut],
		[OiaID],
		[CustomerStatus],
		[MaritalStatus],
		[TotalDependents],
		[LanguageVerbal],
		[Type1],
		[Type2],
		[Type3],
		[Type4],
		[AccommodationType],
		[PropertyValue],
		[MortgageBalance],
		[MonthlyRental],
		[ResidentialStatus],
		[EmailType],
		[EmailAddress],
		[TelephoneType],
		[STD],
		[Number],
		[Extension],
		[Occupation],
		[EmploymentStatus],
		[ExpiryDate],
		[EmploymentRecency],
		[EmployerCategory],
		[TimeAtCurrentEmployer],
		[SortCode],
		[AccountNumber],
		[TimeAtBank],
		[PaymentMethod],
		[FinanceType],
		[TotalDebitCards],
		[TotalCreditCards],
		[MonthlyUnsecuredAmount],
		[AmountPr],
		[TypePr],
		[PaymentMethodPr],
		[FrequencyPr],
		[AmountAd],
		[TypeAd],
		[PaymentMethodAd],
		[FrequencyAd]
	FROM @Tbl
END
GO




IF OBJECT_ID('SaveCallCreditDataApplicantAddresses') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataApplicantAddresses
GO

IF TYPE_ID('CallCreditDataApplicantAddressesList') IS NOT NULL
	DROP TYPE CallCreditDataApplicantAddressesList
GO

CREATE TYPE CallCreditDataApplicantAddressesList AS TABLE (
	[Id] BIGINT NOT NULL,
	[ApplicantId] BIGINT NOT NULL,
	[AbodeNo] NVARCHAR(30) NULL,
	[BuildingNo] NVARCHAR(12) NULL,
	[BuildingName] NVARCHAR(50) NULL,
	[Street1] NVARCHAR(50) NULL,
	[Street2] NVARCHAR(50) NULL,
	[SubLocality] NVARCHAR(35) NULL,
	[Locality] NVARCHAR(35) NULL,
	[PostTown] NVARCHAR(25) NULL,
	[PostCode] NVARCHAR(8) NULL,
	[StartDate] DATETIME NULL,
	[EndDate] DATETIME NULL,
	[Duration] NVARCHAR(15) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataApplicantAddresses
@Tbl CallCreditDataApplicantAddressesList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataApplicantAddresses (
		[Id],
		[ApplicantId],
		[AbodeNo],
		[BuildingNo],
		[BuildingName],
		[Street1],
		[Street2],
		[SubLocality],
		[Locality],
		[PostTown],
		[PostCode],
		[StartDate],
		[EndDate],
		[Duration]
	) SELECT
		[Id],
		[ApplicantId],
		[AbodeNo],
		[BuildingNo],
		[BuildingName],
		[Street1],
		[Street2],
		[SubLocality],
		[Locality],
		[PostTown],
		[PostCode],
		[StartDate],
		[EndDate],
		[Duration]
	FROM @Tbl
END
GO




IF OBJECT_ID('SaveCallCreditDataApplicantNames') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataApplicantNames
GO

IF TYPE_ID('CallCreditDataApplicantNamesList') IS NOT NULL
	DROP TYPE CallCreditDataApplicantNamesList
GO

CREATE TYPE CallCreditDataApplicantNamesList AS TABLE (
	[Id] BIGINT NOT NULL,
	[ApplicantId] BIGINT NOT NULL,
	[Title] NVARCHAR(30) NULL,
	[Forename] NVARCHAR(30) NULL,
	[OtherNames] NVARCHAR(40) NULL,
	[Surname] NVARCHAR(30) NULL,
	[Suffix] NVARCHAR(30) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataApplicantNames
@Tbl CallCreditDataApplicantNamesList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataApplicantNames (
		[Id],
		[ApplicantId],
		[Title],
		[Forename],
		[OtherNames],
		[Surname],
		[Suffix]
	) SELECT
		[Id],
		[ApplicantId],
		[Title],
		[Forename],
		[OtherNames],
		[Surname],
		[Suffix]
	FROM @Tbl
END
GO





IF OBJECT_ID('SaveCallCreditSearchDataAmendments') IS NOT NULL
	DROP PROCEDURE SaveCallCreditSearchDataAmendments
GO

IF TYPE_ID('CallCreditSearchDataAmendmentsList') IS NOT NULL
	DROP TYPE CallCreditSearchDataAmendmentsList
GO

CREATE TYPE CallCreditSearchDataAmendmentsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[SearchDataId] BIGINT NOT NULL,
	[AmendmentName] NVARCHAR(20) NULL,
	[AmendmentType] NVARCHAR(6) NULL,
	[Balorlim] INT NULL,
	[Term] NVARCHAR(15) NULL,
	[AbodeNo] NVARCHAR(30) NULL,
	[BuildingNo] NVARCHAR(12) NULL,
	[BuildingName] NVARCHAR(50) NULL,
	[Street1] NVARCHAR(50) NULL,
	[Street2] NVARCHAR(50) NULL,
	[Sublocality] NVARCHAR(35) NULL,
	[Locality] NVARCHAR(35) NULL,
	[PostTown] NVARCHAR(25) NULL,
	[PostCode] NVARCHAR(8) NULL,
	[StartDate] DATETIME NULL,
	[EndDate] DATETIME NULL,
	[Duration] NVARCHAR(30) NULL,
	[Title] NVARCHAR(30) NULL,
	[Forename] NVARCHAR(30) NULL,
	[OtherNames] NVARCHAR(40) NULL,
	[SurName] NVARCHAR(30) NULL,
	[Suffix] NVARCHAR(30) NULL
)
GO

CREATE PROCEDURE SaveCallCreditSearchDataAmendments
@Tbl CallCreditSearchDataAmendmentsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditSearchDataAmendments (
		[Id],
		[SearchDataId],
		[AmendmentName],
		[AmendmentType],
		[Balorlim],
		[Term],
		[AbodeNo],
		[BuildingNo],
		[BuildingName],
		[Street1],
		[Street2],
		[Sublocality],
		[Locality],
		[PostTown],
		[PostCode],
		[StartDate],
		[EndDate],
		[Duration],
		[Title],
		[Forename],
		[OtherNames],
		[SurName],
		[Suffix]
	) SELECT
		[Id],
		[SearchDataId],
		[AmendmentName],
		[AmendmentType],
		[Balorlim],
		[Term],
		[AbodeNo],
		[BuildingNo],
		[BuildingName],
		[Street1],
		[Street2],
		[Sublocality],
		[Locality],
		[PostTown],
		[PostCode],
		[StartDate],
		[EndDate],
		[Duration],
		[Title],
		[Forename],
		[OtherNames],
		[SurName],
		[Suffix]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditData') IS NOT NULL
	DROP PROCEDURE SaveCallCreditData
GO

IF TYPE_ID('CallCreditDataList') IS NOT NULL
	DROP TYPE CallCreditDataList
GO

CREATE TYPE CallCreditDataList AS TABLE (
	[Id] BIGINT NOT NULL,
	[ServiceLogId] BIGINT NOT NULL,
	[CustomerID] INT NULL,
	[DirectorID] INT NULL,
	[LinkType] INT NULL,
	[SearchID] NVARCHAR(38) NULL,
	[ReportType] NVARCHAR(1) NULL,
	[TpOptOut] BIT NULL,
	[AutoSearchMaxExceeded] BIT NULL,
	[AgeFlag] INT NULL,
	[ReporTitle] NVARCHAR(500) NULL,
	[CurrentInsolvment] BIT NULL,
	[Restricted] BIT NULL,
	[TotalDischarged] INT NULL,
	[TotalMinPayments12Month] INT NULL,
	[TotalMinPayments36Month] INT NULL,
	[TotalValueCashAdvances12Month] INT NULL,
	[TotalValueCashAdvances36Month] INT NULL,
	[TotalCifas] INT NULL,
	[ImpairedCredit] BIT NULL,
	[Secured] BIT NULL,
	[Unsecured] BIT NULL,
	[Judgment] BIT NULL,
	[Iva] BIT NULL,
	[Boss] BIT NULL,
	[BalanceLimitRatioVolve] BIGINT NULL,
	[TotalBalancesActive] BIGINT NULL,
	[TotalBalancesLoans] BIGINT NULL,
	[TotalBalancesMortgage] BIGINT NULL,
	[TotalBalancesRevolve] BIGINT NULL,
	[TotalLimitsRevolve] BIGINT NULL,
	[Total] INT NULL,
	[TotalActive] INT NULL,
	[Total36m] INT NULL,
	[TotalSatisfied] INT NULL,
	[TotalActiveAmount] INT NULL,
	[TotalSatisfiedAmount] INT NULL,
	[TotalUndecAddresses] INT NULL,
	[TotalUndecAddressesSearched] INT NULL,
	[TotalUndecAddressesUnsearched] INT NULL,
	[TotalUndecAliases] INT NULL,
	[TotalUndecAssociates] INT NULL,
	[HasUpdates] BIT NULL,
	[TotalHomeCreditSearches3Months] INT NULL,
	[TotalSearches3Months] INT NULL,
	[TotalSearches12Months] INT NULL,
	[TotalAccounts] INT NULL,
	[TotalActiveAccs] INT NULL,
	[TotalSettledAccs] INT NULL,
	[TotalOpened6Month] INT NULL,
	[WorstPayStatus12Month] NVARCHAR(10) NULL,
	[WorstPayStatus36Month] NVARCHAR(10) NULL,
	[TotalDelinqs12Month] INT NULL,
	[TotalDefaults12Month] INT NULL,
	[TotalDefaults36Month] INT NULL,
	[MessageCode] INT NULL,
	[PafValid] BIT NULL,
	[RollingRoll] BIT NULL,
	[AlertDecision] INT NULL,
	[AlertReview] INT NULL,
	[Hho] INT NULL,
	[NocFlag] BIT NULL,
	[TotalDisputes] INT NULL,
	[PersonName] NVARCHAR(164) NULL,
	[Dob] DATETIME NULL,
	[CurrentAddressP] BIT NULL,
	[UnDeclaredAddressTypeP] INT NULL,
	[AddressValueP] NVARCHAR(440) NULL,
	[number] NVARCHAR(8) NULL,
	[CompanyName] NVARCHAR(70) NULL,
	[CurrentAddressC] BIT NULL,
	[UnDeclaredAddressTypeC] INT NULL,
	[ValueC] NVARCHAR(440) NULL,
	[MemberNumber] INT NULL,
	[CaseReferenceNo] NVARCHAR(6) NULL,
	[NameDetails] NVARCHAR(100) NULL,
	[ProductCode] NVARCHAR(10) NULL,
	[FraudCategory] NVARCHAR(10) NULL,
	[ProductDesc] NVARCHAR(150) NULL,
	[FraudDesc] NVARCHAR(50) NULL,
	[InputDate] DATETIME NULL,
	[ExpiryDate] DATETIME NULL,
	[TransactionType] NVARCHAR(10) NULL,
	[CameoUk] NVARCHAR(2) NULL,
	[CameoInvestor] NVARCHAR(2) NULL,
	[CameoIncome] NVARCHAR(2) NULL,
	[CameoUnemployment] NVARCHAR(2) NULL,
	[CameoProperty] NVARCHAR(2) NULL,
	[CameoFinance] NVARCHAR(2) NULL,
	[CameoUkFam] NVARCHAR(2) NULL,
	[Ind_adult1] INT NULL,
	[Adult_1] INT NULL,
	[Adult_2] INT NULL,
	[Adult_3pl] INT NULL,
	[Age0_17] INT NULL,
	[Age18_24] INT NULL,
	[Age25_34] INT NULL,
	[Age35_44] INT NULL,
	[Age45_54] INT NULL,
	[Age55_64] INT NULL,
	[Age65_74] INT NULL,
	[Age75pl] INT NULL,
	[Unem_index] INT NULL,
	[Wk_fem_ind] INT NULL,
	[Stu_ind] INT NULL,
	[Sick_ind] INT NULL,
	[Degree_ind] INT NULL,
	[Ab_ind] INT NULL,
	[C1_ind] INT NULL,
	[C2_ind] INT NULL,
	[De_ind] INT NULL,
	[Cameoukhsg] NVARCHAR(2) NULL,
	[Cameoukten] NVARCHAR(2) NULL,
	[Natprice] INT NULL,
	[Regprice] INT NULL,
	[D_index] INT NULL,
	[D_r_index] INT NULL,
	[S_index] INT NULL,
	[S_r_index] INT NULL,
	[T_index] INT NULL,
	[T_r_index] INT NULL,
	[F_index] INT NULL,
	[F_r_index] INT NULL,
	[Move_rate] INT NULL,
	[CameoUk06] NVARCHAR(3) NULL,
	[CameoUkg06] NVARCHAR(2) NULL,
	[CameoIncome06] NVARCHAR(2) NULL,
	[CameoIncg06] NVARCHAR(1) NULL,
	[CameoInvestor06] NVARCHAR(2) NULL,
	[CameoInvg06] NVARCHAR(1) NULL,
	[CameoProperty06] NVARCHAR(2) NULL,
	[CameoFinance06] NVARCHAR(2) NULL,
	[CameoFing06] NVARCHAR(1) NULL,
	[CameoUnemploy06] NVARCHAR(2) NULL,
	[AgeBand] INT NULL,
	[TenureBand] INT NULL,
	[CompBand] INT NULL,
	[EconBand] INT NULL,
	[LifeBand] INT NULL,
	[SocBand] INT NULL,
	[OccBand] INT NULL,
	[MortBand] INT NULL,
	[UnemBal] INT NULL,
	[UnemInd] INT NULL,
	[UnemallIndex] INT NULL,
	[HousAge] NVARCHAR(5) NULL,
	[CtaxBand] NVARCHAR(1) NULL,
	[LocationType] INT NULL,
	[NatAvgHouse] INT NULL,
	[HouseBand] INT NULL,
	[PriceDiff] BIGINT NULL,
	[PriceIndex] INT NULL,
	[Activity] INT NULL,
	[RegionalBand] INT NULL,
	[AvgDetVal] INT NULL,
	[AvgDetIndex] INT NULL,
	[AvgSemiVal] INT NULL,
	[AvgSemiIndex] INT NULL,
	[AvgTerrVal] INT NULL,
	[AvgTerrIndex] INT NULL,
	[AvgFlatVal] INT NULL,
	[AvgFlatIndex] INT NULL,
	[RegionCode] INT NULL,
	[CameoIntl] NVARCHAR(2) NULL
)
GO

CREATE PROCEDURE SaveCallCreditData
@Tbl CallCreditDataList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditData (
		[Id],
		[ServiceLogId],
		[CustomerID],
		[DirectorID],
		[LinkType],
		[SearchID],
		[ReportType],
		[TpOptOut],
		[AutoSearchMaxExceeded],
		[AgeFlag],
		[ReporTitle],
		[CurrentInsolvment],
		[Restricted],
		[TotalDischarged],
		[TotalMinPayments12Month],
		[TotalMinPayments36Month],
		[TotalValueCashAdvances12Month],
		[TotalValueCashAdvances36Month],
		[TotalCifas],
		[ImpairedCredit],
		[Secured],
		[Unsecured],
		[Judgment],
		[Iva],
		[Boss],
		[BalanceLimitRatioVolve],
		[TotalBalancesActive],
		[TotalBalancesLoans],
		[TotalBalancesMortgage],
		[TotalBalancesRevolve],
		[TotalLimitsRevolve],
		[Total],
		[TotalActive],
		[Total36m],
		[TotalSatisfied],
		[TotalActiveAmount],
		[TotalSatisfiedAmount],
		[TotalUndecAddresses],
		[TotalUndecAddressesSearched],
		[TotalUndecAddressesUnsearched],
		[TotalUndecAliases],
		[TotalUndecAssociates],
		[HasUpdates],
		[TotalHomeCreditSearches3Months],
		[TotalSearches3Months],
		[TotalSearches12Months],
		[TotalAccounts],
		[TotalActiveAccs],
		[TotalSettledAccs],
		[TotalOpened6Month],
		[WorstPayStatus12Month],
		[WorstPayStatus36Month],
		[TotalDelinqs12Month],
		[TotalDefaults12Month],
		[TotalDefaults36Month],
		[MessageCode],
		[PafValid],
		[RollingRoll],
		[AlertDecision],
		[AlertReview],
		[Hho],
		[NocFlag],
		[TotalDisputes],
		[PersonName],
		[Dob],
		[CurrentAddressP],
		[UnDeclaredAddressTypeP],
		[AddressValueP],
		[number],
		[CompanyName],
		[CurrentAddressC],
		[UnDeclaredAddressTypeC],
		[ValueC],
		[MemberNumber],
		[CaseReferenceNo],
		[NameDetails],
		[ProductCode],
		[FraudCategory],
		[ProductDesc],
		[FraudDesc],
		[InputDate],
		[ExpiryDate],
		[TransactionType],
		[CameoUk],
		[CameoInvestor],
		[CameoIncome],
		[CameoUnemployment],
		[CameoProperty],
		[CameoFinance],
		[CameoUkFam],
		[Ind_adult1],
		[Adult_1],
		[Adult_2],
		[Adult_3pl],
		[Age0_17],
		[Age18_24],
		[Age25_34],
		[Age35_44],
		[Age45_54],
		[Age55_64],
		[Age65_74],
		[Age75pl],
		[Unem_index],
		[Wk_fem_ind],
		[Stu_ind],
		[Sick_ind],
		[Degree_ind],
		[Ab_ind],
		[C1_ind],
		[C2_ind],
		[De_ind],
		[Cameoukhsg],
		[Cameoukten],
		[Natprice],
		[Regprice],
		[D_index],
		[D_r_index],
		[S_index],
		[S_r_index],
		[T_index],
		[T_r_index],
		[F_index],
		[F_r_index],
		[Move_rate],
		[CameoUk06],
		[CameoUkg06],
		[CameoIncome06],
		[CameoIncg06],
		[CameoInvestor06],
		[CameoInvg06],
		[CameoProperty06],
		[CameoFinance06],
		[CameoFing06],
		[CameoUnemploy06],
		[AgeBand],
		[TenureBand],
		[CompBand],
		[EconBand],
		[LifeBand],
		[SocBand],
		[OccBand],
		[MortBand],
		[UnemBal],
		[UnemInd],
		[UnemallIndex],
		[HousAge],
		[CtaxBand],
		[LocationType],
		[NatAvgHouse],
		[HouseBand],
		[PriceDiff],
		[PriceIndex],
		[Activity],
		[RegionalBand],
		[AvgDetVal],
		[AvgDetIndex],
		[AvgSemiVal],
		[AvgSemiIndex],
		[AvgTerrVal],
		[AvgTerrIndex],
		[AvgFlatVal],
		[AvgFlatIndex],
		[RegionCode],
		[CameoIntl]
	) SELECT
		[Id],
		[ServiceLogId],
		[CustomerID],
		[DirectorID],
		[LinkType],
		[SearchID],
		[ReportType],
		[TpOptOut],
		[AutoSearchMaxExceeded],
		[AgeFlag],
		[ReporTitle],
		[CurrentInsolvment],
		[Restricted],
		[TotalDischarged],
		[TotalMinPayments12Month],
		[TotalMinPayments36Month],
		[TotalValueCashAdvances12Month],
		[TotalValueCashAdvances36Month],
		[TotalCifas],
		[ImpairedCredit],
		[Secured],
		[Unsecured],
		[Judgment],
		[Iva],
		[Boss],
		[BalanceLimitRatioVolve],
		[TotalBalancesActive],
		[TotalBalancesLoans],
		[TotalBalancesMortgage],
		[TotalBalancesRevolve],
		[TotalLimitsRevolve],
		[Total],
		[TotalActive],
		[Total36m],
		[TotalSatisfied],
		[TotalActiveAmount],
		[TotalSatisfiedAmount],
		[TotalUndecAddresses],
		[TotalUndecAddressesSearched],
		[TotalUndecAddressesUnsearched],
		[TotalUndecAliases],
		[TotalUndecAssociates],
		[HasUpdates],
		[TotalHomeCreditSearches3Months],
		[TotalSearches3Months],
		[TotalSearches12Months],
		[TotalAccounts],
		[TotalActiveAccs],
		[TotalSettledAccs],
		[TotalOpened6Month],
		[WorstPayStatus12Month],
		[WorstPayStatus36Month],
		[TotalDelinqs12Month],
		[TotalDefaults12Month],
		[TotalDefaults36Month],
		[MessageCode],
		[PafValid],
		[RollingRoll],
		[AlertDecision],
		[AlertReview],
		[Hho],
		[NocFlag],
		[TotalDisputes],
		[PersonName],
		[Dob],
		[CurrentAddressP],
		[UnDeclaredAddressTypeP],
		[AddressValueP],
		[number],
		[CompanyName],
		[CurrentAddressC],
		[UnDeclaredAddressTypeC],
		[ValueC],
		[MemberNumber],
		[CaseReferenceNo],
		[NameDetails],
		[ProductCode],
		[FraudCategory],
		[ProductDesc],
		[FraudDesc],
		[InputDate],
		[ExpiryDate],
		[TransactionType],
		[CameoUk],
		[CameoInvestor],
		[CameoIncome],
		[CameoUnemployment],
		[CameoProperty],
		[CameoFinance],
		[CameoUkFam],
		[Ind_adult1],
		[Adult_1],
		[Adult_2],
		[Adult_3pl],
		[Age0_17],
		[Age18_24],
		[Age25_34],
		[Age35_44],
		[Age45_54],
		[Age55_64],
		[Age65_74],
		[Age75pl],
		[Unem_index],
		[Wk_fem_ind],
		[Stu_ind],
		[Sick_ind],
		[Degree_ind],
		[Ab_ind],
		[C1_ind],
		[C2_ind],
		[De_ind],
		[Cameoukhsg],
		[Cameoukten],
		[Natprice],
		[Regprice],
		[D_index],
		[D_r_index],
		[S_index],
		[S_r_index],
		[T_index],
		[T_r_index],
		[F_index],
		[F_r_index],
		[Move_rate],
		[CameoUk06],
		[CameoUkg06],
		[CameoIncome06],
		[CameoIncg06],
		[CameoInvestor06],
		[CameoInvg06],
		[CameoProperty06],
		[CameoFinance06],
		[CameoFing06],
		[CameoUnemploy06],
		[AgeBand],
		[TenureBand],
		[CompBand],
		[EconBand],
		[LifeBand],
		[SocBand],
		[OccBand],
		[MortBand],
		[UnemBal],
		[UnemInd],
		[UnemallIndex],
		[HousAge],
		[CtaxBand],
		[LocationType],
		[NatAvgHouse],
		[HouseBand],
		[PriceDiff],
		[PriceIndex],
		[Activity],
		[RegionalBand],
		[AvgDetVal],
		[AvgDetIndex],
		[AvgSemiVal],
		[AvgSemiIndex],
		[AvgTerrVal],
		[AvgTerrIndex],
		[AvgFlatVal],
		[AvgFlatIndex],
		[RegionCode],
		[CameoIntl]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataCreditScores') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataCreditScores
GO

IF TYPE_ID('CallCreditDataCreditScoresList') IS NOT NULL
	DROP TYPE CallCreditDataCreditScoresList
GO

CREATE TYPE CallCreditDataCreditScoresList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[score] INT NULL,
	[ScoreClass] INT NULL,
	[Reason1] INT NULL,
	[Reason2] INT NULL,
	[Reason3] INT NULL,
	[Reason4] INT NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataCreditScores
@Tbl CallCreditDataCreditScoresList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataCreditScores (
		[Id],
		[DataId],
		[score],
		[ScoreClass],
		[Reason1],
		[Reason2],
		[Reason3],
		[Reason4]
	) SELECT
		[Id],
		[DataId],
		[score],
		[ScoreClass],
		[Reason1],
		[Reason2],
		[Reason3],
		[Reason4]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataNocs
GO

IF TYPE_ID('CallCreditDataNocsList') IS NOT NULL
	DROP TYPE CallCreditDataNocsList
GO

CREATE TYPE CallCreditDataNocsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[Refnum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(4000) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataNocs
@Tbl CallCreditDataNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataNocs (
		[Id],
		[DataId],
		[NoticeType],
		[Refnum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[DataId],
		[NoticeType],
		[Refnum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataAddresses') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataAddresses
GO

IF TYPE_ID('CallCreditDataAddressesList') IS NOT NULL
	DROP TYPE CallCreditDataAddressesList
GO

CREATE TYPE CallCreditDataAddressesList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[CurrentAddress] BIT NULL,
	[AddressId] INT NULL,
	[Messagecode] INT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataAddresses
@Tbl CallCreditDataAddressesList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataAddresses (
		[Id],
		[DataId],
		[CurrentAddress],
		[AddressId],
		[Messagecode],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[DataId],
		[CurrentAddress],
		[AddressId],
		[Messagecode],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataJudjments') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataJudjments
GO

IF TYPE_ID('CallCreditDataJudjmentsList') IS NOT NULL
	DROP TYPE CallCreditDataJudjmentsList
GO

CREATE TYPE CallCreditDataJudjmentsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[Dob] DATETIME NULL,
	[CourtName] NVARCHAR(50) NULL,
	[CourtType] INT NULL,
	[CaseNumber] NVARCHAR(30) NULL,
	[Status] NVARCHAR(10) NULL,
	[Amount] INT NULL,
	[JudgmentDate] DATETIME NULL,
	[DateSatisfied] DATETIME NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataJudjments
@Tbl CallCreditDataJudjmentsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataJudjments (
		[Id],
		[DataId],
		[NameDetails],
		[Dob],
		[CourtName],
		[CourtType],
		[CaseNumber],
		[Status],
		[Amount],
		[JudgmentDate],
		[DateSatisfied],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[DataId],
		[NameDetails],
		[Dob],
		[CourtName],
		[CourtType],
		[CaseNumber],
		[Status],
		[Amount],
		[JudgmentDate],
		[DateSatisfied],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataJudjmentsNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataJudjmentsNocs
GO

IF TYPE_ID('CallCreditDataJudjmentsNocsList') IS NOT NULL
	DROP TYPE CallCreditDataJudjmentsNocsList
GO

CREATE TYPE CallCreditDataJudjmentsNocsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[JudjmentId] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[RefNum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(MAX) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataJudjmentsNocs
@Tbl CallCreditDataJudjmentsNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataJudjmentsNocs (
		[Id],
		[JudjmentId],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[JudjmentId],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataBais') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataBais
GO

IF TYPE_ID('CallCreditDataBaisList') IS NOT NULL
	DROP TYPE CallCreditDataBaisList
GO

CREATE TYPE CallCreditDataBaisList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[DischargeDate] DATETIME NULL,
	[LineOfBusiness] NVARCHAR(30) NULL,
	[CourtName] NVARCHAR(50) NULL,
	[CurrentStatus] NVARCHAR(10) NULL,
	[Amount] INT NULL,
	[OrderType] NVARCHAR(10) NULL,
	[OrderDate] DATETIME NULL,
	[CaseYear] INT NULL,
	[CaseRef] NVARCHAR(20) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[TradingName] NVARCHAR(60) NULL,
	[Dob] DATETIME NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL,
	[RestrictionType] NVARCHAR(10) NULL,
	[Startdate] DATETIME NULL,
	[Enddate] DATETIME NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataBais
@Tbl CallCreditDataBaisList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataBais (
		[Id],
		[DataId],
		[DischargeDate],
		[LineOfBusiness],
		[CourtName],
		[CurrentStatus],
		[Amount],
		[OrderType],
		[OrderDate],
		[CaseYear],
		[CaseRef],
		[NameDetails],
		[TradingName],
		[Dob],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue],
		[RestrictionType],
		[Startdate],
		[Enddate]
	) SELECT
		[Id],
		[DataId],
		[DischargeDate],
		[LineOfBusiness],
		[CourtName],
		[CurrentStatus],
		[Amount],
		[OrderType],
		[OrderDate],
		[CaseYear],
		[CaseRef],
		[NameDetails],
		[TradingName],
		[Dob],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue],
		[RestrictionType],
		[Startdate],
		[Enddate]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataBaisNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataBaisNocs
GO

IF TYPE_ID('CallCreditDataBaisNocsList') IS NOT NULL
	DROP TYPE CallCreditDataBaisNocsList
GO

CREATE TYPE CallCreditDataBaisNocsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[BaiId] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[RefNum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(4000) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataBaisNocs
@Tbl CallCreditDataBaisNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataBaisNocs (
		[Id],
		[BaiId],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[BaiId],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataSearch') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataSearch
GO

IF TYPE_ID('CallCreditDataSearchList') IS NOT NULL
	DROP TYPE CallCreditDataSearchList
GO

CREATE TYPE CallCreditDataSearchList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[SearchRef] NVARCHAR(38) NULL,
	[SearchOrgType] NVARCHAR(10) NULL,
	[SearchOrgName] NVARCHAR(50) NULL,
	[YourReference] NVARCHAR(50) NULL,
	[SearchUnitName] NVARCHAR(50) NULL,
	[OwnSearch] BIT NULL,
	[SubsequentEnquiry] BIT NULL,
	[UserName] NVARCHAR(50) NULL,
	[SearchPurpose] NVARCHAR(10) NULL,
	[CreditType] NVARCHAR(10) NULL,
	[Balance] INT NULL,
	[Term] INT NULL,
	[JointApplication] BIT NULL,
	[SearchDate] DATETIME NULL,
	[NameDetailes] NVARCHAR(164) NULL,
	[Dob] DATETIME NULL,
	[StartDate] DATETIME NULL,
	[EndDate] DATETIME NULL,
	[TpOptOut] BIT NULL,
	[Transient] BIT NULL,
	[LinkType] INT NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataSearch
@Tbl CallCreditDataSearchList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataSearch (
		[Id],
		[DataId],
		[SearchRef],
		[SearchOrgType],
		[SearchOrgName],
		[YourReference],
		[SearchUnitName],
		[OwnSearch],
		[SubsequentEnquiry],
		[UserName],
		[SearchPurpose],
		[CreditType],
		[Balance],
		[Term],
		[JointApplication],
		[SearchDate],
		[NameDetailes],
		[Dob],
		[StartDate],
		[EndDate],
		[TpOptOut],
		[Transient],
		[LinkType],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[DataId],
		[SearchRef],
		[SearchOrgType],
		[SearchOrgName],
		[YourReference],
		[SearchUnitName],
		[OwnSearch],
		[SubsequentEnquiry],
		[UserName],
		[SearchPurpose],
		[CreditType],
		[Balance],
		[Term],
		[JointApplication],
		[SearchDate],
		[NameDetailes],
		[Dob],
		[StartDate],
		[EndDate],
		[TpOptOut],
		[Transient],
		[LinkType],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataCifasFilingNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataCifasFilingNocs
GO

IF TYPE_ID('CallCreditDataCifasFilingNocsList') IS NOT NULL
	DROP TYPE CallCreditDataCifasFilingNocsList
GO

CREATE TYPE CallCreditDataCifasFilingNocsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[Refnum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(MAX) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataCifasFilingNocs
@Tbl CallCreditDataCifasFilingNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataCifasFilingNocs (
		[Id],
		[DataId],
		[NoticeType],
		[Refnum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[DataId],
		[NoticeType],
		[Refnum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataAliasLinks') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataAliasLinks
GO

IF TYPE_ID('CallCreditDataAliasLinksList') IS NOT NULL
	DROP TYPE CallCreditDataAliasLinksList
GO

CREATE TYPE CallCreditDataAliasLinksList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[Declared] BIT NULL,
	[NameBefore] NVARCHAR(164) NULL,
	[Alias] NVARCHAR(164) NULL,
	[CreationDate] DATETIME NULL,
	[LastConfDate] DATETIME NULL,
	[SupplierName] NVARCHAR(60) NULL,
	[SupplierTypeCode] NVARCHAR(10) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataAliasLinks
@Tbl CallCreditDataAliasLinksList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataAliasLinks (
		[Id],
		[DataId],
		[Declared],
		[NameBefore],
		[Alias],
		[CreationDate],
		[LastConfDate],
		[SupplierName],
		[SupplierTypeCode]
	) SELECT
		[Id],
		[DataId],
		[Declared],
		[NameBefore],
		[Alias],
		[CreationDate],
		[LastConfDate],
		[SupplierName],
		[SupplierTypeCode]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataAliasLinksNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataAliasLinksNocs
GO

IF TYPE_ID('CallCreditDataAliasLinksNocsList') IS NOT NULL
	DROP TYPE CallCreditDataAliasLinksNocsList
GO

CREATE TYPE CallCreditDataAliasLinksNocsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[AliasLinkId] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[RefNum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(4000) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataAliasLinksNocs
@Tbl CallCreditDataAliasLinksNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataAliasLinksNocs (
		[Id],
		[AliasLinkId],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[AliasLinkId],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataAssociateLinks') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataAssociateLinks
GO

IF TYPE_ID('CallCreditDataAssociateLinksList') IS NOT NULL
	DROP TYPE CallCreditDataAssociateLinksList
GO

CREATE TYPE CallCreditDataAssociateLinksList AS TABLE (
	[ID] BIGINT NOT NULL,
	[DataID] BIGINT NOT NULL,
	[DeclaredAddress] BIT NULL,
	[OiaID] INT NULL,
	[NavLinkID] NVARCHAR(38) NULL,
	[AssociateName] NVARCHAR(164) NULL,
	[CreationDate] DATETIME NULL,
	[LastConfDate] DATETIME NULL,
	[SupplierName] NVARCHAR(60) NULL,
	[SupplierTypeCode] NVARCHAR(10) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataAssociateLinks
@Tbl CallCreditDataAssociateLinksList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataAssociateLinks (
		[ID],
		[DataID],
		[DeclaredAddress],
		[OiaID],
		[NavLinkID],
		[AssociateName],
		[CreationDate],
		[LastConfDate],
		[SupplierName],
		[SupplierTypeCode]
	) SELECT
		[ID],
		[DataID],
		[DeclaredAddress],
		[OiaID],
		[NavLinkID],
		[AssociateName],
		[CreationDate],
		[LastConfDate],
		[SupplierName],
		[SupplierTypeCode]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataAssociateLinksNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataAssociateLinksNocs
GO

IF TYPE_ID('CallCreditDataAssociateLinksNocsList') IS NOT NULL
	DROP TYPE CallCreditDataAssociateLinksNocsList
GO

CREATE TYPE CallCreditDataAssociateLinksNocsList AS TABLE (
	[ID] BIGINT NOT NULL,
	[AssociateLinkID] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[RefNum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(4000) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataAssociateLinksNocs
@Tbl CallCreditDataAssociateLinksNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataAssociateLinksNocs (
		[ID],
		[AssociateLinkID],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[ID],
		[AssociateLinkID],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataRtr') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataRtr
GO

IF TYPE_ID('CallCreditDataRtrList') IS NOT NULL
	DROP TYPE CallCreditDataRtrList
GO

CREATE TYPE CallCreditDataRtrList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataId] BIGINT NOT NULL,
	[HolderName] NVARCHAR(164) NULL,
	[Dob] DATETIME NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL,
	[Updated] DATETIME NULL,
	[OrgTypeCode] NVARCHAR(164) NULL,
	[OrgName] NVARCHAR(60) NULL,
	[AccNum] NVARCHAR(20) NULL,
	[AccSuffix] NVARCHAR(10) NULL,
	[AccTypeCode] NVARCHAR(10) NULL,
	[Balance] INT NULL,
	[Limit] INT NULL,
	[StartDate] DATETIME NULL,
	[EndDate] DATETIME NULL,
	[AccStatusCode] NVARCHAR(10) NULL,
	[RepayFreqCode] NVARCHAR(10) NULL,
	[NumOverdue] INT NULL,
	[Rollover] BIT NULL,
	[CrediText] BIT NULL,
	[ChangePay] BIT NULL,
	[NextPayAmount] INT NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataRtr
@Tbl CallCreditDataRtrList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataRtr (
		[Id],
		[DataId],
		[HolderName],
		[Dob],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue],
		[Updated],
		[OrgTypeCode],
		[OrgName],
		[AccNum],
		[AccSuffix],
		[AccTypeCode],
		[Balance],
		[Limit],
		[StartDate],
		[EndDate],
		[AccStatusCode],
		[RepayFreqCode],
		[NumOverdue],
		[Rollover],
		[CrediText],
		[ChangePay],
		[NextPayAmount]
	) SELECT
		[Id],
		[DataId],
		[HolderName],
		[Dob],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue],
		[Updated],
		[OrgTypeCode],
		[OrgName],
		[AccNum],
		[AccSuffix],
		[AccTypeCode],
		[Balance],
		[Limit],
		[StartDate],
		[EndDate],
		[AccStatusCode],
		[RepayFreqCode],
		[NumOverdue],
		[Rollover],
		[CrediText],
		[ChangePay],
		[NextPayAmount]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataRtrNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataRtrNocs
GO

IF TYPE_ID('CallCreditDataRtrNocsList') IS NOT NULL
	DROP TYPE CallCreditDataRtrNocsList
GO

CREATE TYPE CallCreditDataRtrNocsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[RtrId] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[Refnum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(4000) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataRtrNocs
@Tbl CallCreditDataRtrNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataRtrNocs (
		[Id],
		[RtrId],
		[NoticeType],
		[Refnum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[RtrId],
		[NoticeType],
		[Refnum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataAddressLinks') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataAddressLinks
GO

IF TYPE_ID('CallCreditDataAddressLinksList') IS NOT NULL
	DROP TYPE CallCreditDataAddressLinksList
GO

CREATE TYPE CallCreditDataAddressLinksList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataID] BIGINT NOT NULL,
	[CreationDate] DATETIME NULL,
	[LastConfDate] DATETIME NULL,
	[From] INT NULL,
	[To] INT NULL,
	[SupplierName] NVARCHAR(60) NULL,
	[SupplierTypeCode] NVARCHAR(10) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataAddressLinks
@Tbl CallCreditDataAddressLinksList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataAddressLinks (
		[Id],
		[DataID],
		[CreationDate],
		[LastConfDate],
		[From],
		[To],
		[SupplierName],
		[SupplierTypeCode]
	) SELECT
		[Id],
		[DataID],
		[CreationDate],
		[LastConfDate],
		[From],
		[To],
		[SupplierName],
		[SupplierTypeCode]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataAddressLinksNocs') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataAddressLinksNocs
GO

IF TYPE_ID('CallCreditDataAddressLinksNocsList') IS NOT NULL
	DROP TYPE CallCreditDataAddressLinksNocsList
GO

CREATE TYPE CallCreditDataAddressLinksNocsList AS TABLE (
	[Id] BIGINT NOT NULL,
	[AddressLinkID] BIGINT NOT NULL,
	[NoticeType] NVARCHAR(10) NULL,
	[RefNum] NVARCHAR(30) NULL,
	[DateRaised] DATETIME NULL,
	[Text] NVARCHAR(4000) NULL,
	[NameDetails] NVARCHAR(164) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataAddressLinksNocs
@Tbl CallCreditDataAddressLinksNocsList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataAddressLinksNocs (
		[Id],
		[AddressLinkID],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[AddressLinkID],
		[NoticeType],
		[RefNum],
		[DateRaised],
		[Text],
		[NameDetails],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


IF OBJECT_ID('SaveCallCreditDataLinkAddresses') IS NOT NULL
	DROP PROCEDURE SaveCallCreditDataLinkAddresses
GO

IF TYPE_ID('CallCreditDataLinkAddressesList') IS NOT NULL
	DROP TYPE CallCreditDataLinkAddressesList
GO

CREATE TYPE CallCreditDataLinkAddressesList AS TABLE (
	[Id] BIGINT NOT NULL,
	[DataID] BIGINT NOT NULL,
	[AddressID] INT NULL,
	[Declared] BIT NULL,
	[NavLinkID] NVARCHAR(38) NULL,
	[CurrentAddress] BIT NULL,
	[UnDeclaredAddressType] INT NULL,
	[AddressValue] NVARCHAR(440) NULL
)
GO

CREATE PROCEDURE SaveCallCreditDataLinkAddresses
@Tbl CallCreditDataLinkAddressesList READONLY
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO CallCreditDataLinkAddresses (
		[Id],
		[DataID],
		[AddressID],
		[Declared],
		[NavLinkID],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	) SELECT
		[Id],
		[DataID],
		[AddressID],
		[Declared],
		[NavLinkID],
		[CurrentAddress],
		[UnDeclaredAddressType],
		[AddressValue]
	FROM @Tbl
END
GO


